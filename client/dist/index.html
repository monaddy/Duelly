<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"/>
    <title>Duelly — Backgammon Mini App</title>
    <style>
      :root { --bg:#0E141B; --card:#1F2A37; --fg:#E5E7EB; --accent:#10B3B3; }
      *{box-sizing:border-box} body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica Neue,Arial}
      .wrap{min-height:100svh;display:grid;place-items:center;background:linear-gradient(135deg,#0e141b,#15202b)}
      .card{width:min(520px,92vw);background:var(--card);color:var(--fg);border-radius:16px;padding:20px 22px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
      h1{margin:.2rem 0 1rem 0;font-size:1.6rem}
      p{line-height:1.45}
      a.button{display:inline-block;margin-top:12px;padding:10px 14px;border-radius:10px;background:var(--accent);color:#002a2a;text-decoration:none;font-weight:600}
      code{background:#0c1220;color:#b8c5ff;padding:.16rem .32rem;border-radius:.3rem}
      .ok{display:inline-block;background:#0a2a2a;border:1px solid #134e4a;color:#bff; padding:.35rem .6rem;border-radius:.5rem}
      .err{display:inline-block;background:#2a0a0a;border:1px solid #7f1d1d;color:#ffbaba; padding:.35rem .6rem;border-radius:.5rem}
      .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
      small{opacity:.7}
    </style>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <h1>Backgammon Mini App</h1>
        <p>Welcome to <b>Duelly</b>. Tap <i>Play</i> to launch the app. This landing is a minimal static page until the PixiJS client bundle is deployed to <code>client/dist</code>.</p>
        <div id="health" class="row"><small>API health:</small> <span id="status" class="ok">checking…</span></div>
        <a id="play" class="button" href="/" rel="noopener">Play</a>
        <p style="margin-top:10px"><small>Need help? /help in the bot or contact support.</small></p>
      </div>
    </div>
    <script>
      (async function(){
        try {
          if (window.Telegram && Telegram.WebApp) {
            Telegram.WebApp.ready();
            Telegram.WebApp.expand();
          }
        } catch(e){}
        const el = document.getElementById('status');
        try{
          const r = await fetch('/api/v2/health', {cache:'no-store'});
          const ok = r.ok;
          el.textContent = ok ? 'OK' : 'DOWN';
          el.className = ok ? 'ok' : 'err';
        }catch(e){
          el.textContent = 'DOWN'; el.className='err';
        }
      })();
    </script>
  </body>
</html>
